# 📘 ניתוח FFT, תדרים בולטים, והמרת האות למרחב תדרים

## ✨ הסבר
האינפורמציה החשובה ב־EEG לא תמיד נמצאת במרחב הזמן – לפעמים קל יותר לזהות דפוסים במרחב התדרים. 

לצורך כך, משתמשים בניתוח FFT (Fast Fourier Transform) – תהליך מתמטי שממיר את האות מ"מה קרה מתי" ל"מהם התדרים שבאות". 

כך ניתן לזהות גלי אלפא, בטא וכו' לפי עוצמתם.

## 🧠 מה נלמד בפרק הזה?
- מהי טרנספורמציית פורייה (FFT) ומה היא עושה
- כיצד מבצעים FFT על אות EEG
- פירוש התוצאה – תדרים ועוצמות
- זיהוי פסגות בולטות (peaks) בתחומי תדרים
- מתי משתמשים ב־FFT לעומת פילטרים

## 🔍 הסברים ודוגמאות

### 🔁 מה עושה FFT?

- ממירה את האות ממישור הזמן למישור התדר
- במקום לראות: "מה הערך בכל רגע" → רואים: "אילו תדרים קיימים וכמה חזק כל אחד מהם"

---

### 🧮 איך משתמשים ב־FFT?

```python
from scipy.fft import fft, fftfreq
import numpy as np
import matplotlib.pyplot as plt

# אות לדוגמה
fs = 250  # תדר דגימה
t = np.arange(0, 1, 1/fs)
signal = np.sin(2*np.pi*10*t) + 0.5*np.sin(2*np.pi*20*t)

# חישוב FFT
N = len(signal)
f = fftfreq(N, 1/fs)
spectrum = np.abs(fft(signal))

# הצגת התוצאה
plt.plot(f[:N//2], spectrum[:N//2])
plt.title("Power Spectrum")
plt.xlabel("Frequency (Hz)")
plt.ylabel("Amplitude")
plt.show()
````

---

### 📈 איך לקרוא את הגרף?

* ציר X = תדרים (Hz)
* ציר Y = עוצמה יחסית של כל תדר
* שיאים מצביעים על תדרים דומיננטיים (למשל, שיא באזור 10Hz → גלי אלפא)

---

### 🔍 זיהוי תחומי תדר

* אחרי FFT אפשר לבדוק עוצמה ממוצעת בכל תחום:

```python
alpha_band = (f >= 8) & (f <= 13)
alpha_power = np.mean(spectrum[alpha_band])
```

* שימושי בזיהוי שינה, ריכוז, מדיטציה ועוד

---

### ⚖️ מתי להשתמש ב־FFT?

| מצב                           | פתרון         |
| ----------------------------- | ------------- |
| רוצים לראות אילו תדרים שולטים | ✅ FFT         |
| רוצים **להסיר** תדר מסוים     | ❌ פילטר       |
| רוצים להשוות בין אזורים שונים | ✅ FFT השוואתי |

---

## 💡 טיפים מתקדמים

* FFT הוא עיוור לזמן – כלומר הוא לא מראה מתי התדר הופיע, רק שהוא קיים.
* כדי לראות **שינוי תדרים לאורך זמן** → השתמש ב־STFT או Wavelet Transform.
* הקפד להסיר "DC component" לפני FFT כדי למנוע קפיצה סביב תדר 0.

---

## ✅ בדוק את עצמך

1. מהי מטרת ה־FFT באות EEG?
2. איך תזהה גלי אלפא באמצעות FFT?
3. מה ההבדל בין שימוש ב־FFT לבין פילטר?

