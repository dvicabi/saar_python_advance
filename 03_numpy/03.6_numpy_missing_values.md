# 📘 עבודה עם ערכים חסרים, NaN, ומילוי חכם ב־NumPy

## ✨ הסבר
בעת עבודה עם דאטה אמיתי, נפגוש כמעט תמיד ערכים חסרים – שדות ריקים, חישובים שלא הצליחו, או נתונים שנמחקו. 

בפייתון, ערכים כאלו מיוצגים בדרך כלל כ־`np.nan` (Not a Number). 

ב־NumPy נלמד איך לזהות, לטפל, ולהחליף אותם בדרך חכמה, בלי לשבור את שאר המערך.

## 🧠 מה נלמד בפרק הזה?
- מהו NaN ואיך הוא מתנהג במערכים
- איך לבדוק אם יש NaN בעזרת `np.isnan`
- חישובים שמתעלמים מ־NaN
- דרכי מילוי – ממוצע, קבוע, אינטרפולציה
- איך לאתר ולנקות ערכים חסרים

## 🔍 הסברים ודוגמאות

### ❓ מה זה NaN?

```python
import numpy as np

a = np.array([1, 2, np.nan, 4])
print(a)
# [ 1.  2. nan  4.]
````

🔸 `NaN` הוא ערך מיוחד – **לא שווה לשום דבר, אפילו לא לעצמו!**

```python
print(np.nan == np.nan)  # False
```

---

### 🔍 איתור NaN

```python
np.isnan(a)
# [False False  True False]
```

אפשר לספור כמה NaN יש:

```python
np.sum(np.isnan(a))
```

---

### ➕ חישובים מתעלמים מ־NaN

```python
np.mean(a)         # nan (רגיל)
np.nanmean(a)      # 2.333... (מתעלם מה־NaN)
np.nanstd(a)       # סטיית תקן ללא NaN
np.nansum(a)       # סכום של הערכים החוקיים בלבד
```

---

### 🧼 החלפה או ניקוי של NaN

```python
a[np.isnan(a)] = 0
```

💡 שימושי כשצריך להחליף ערכים חסרים באפס או ערך ניטרלי.

---

### 🧠 מילוי לפי ממוצע

```python
mean_val = np.nanmean(a)
a[np.isnan(a)] = mean_val
```

אפשר גם לפי פונקציה אחרת, כמו חציון, ערך שכיח וכו׳.

---

### 🔄 החלפה חכמה עם `np.where`

```python
a = np.array([1, np.nan, 3])
cleaned = np.where(np.isnan(a), 0, a)
```

---

### 🧠 טיפ: עבודה עם pandas לפתרונות מתקדמים

* NumPy נותנת שליטה על הערכים עצמם
* Pandas (`fillna`, `interpolate`) מציעה שליטה ברמת שורה/עמודה

---

## 💡 טיפים מתקדמים

* עבודה עם `NaN` דורשת זהירות – הוא מתפשט בקלות לתוך חישובים.
* השתמש ב־`np.isnan()` תמיד לפני סטטיסטיקה או טרנספורמציות.
* השתדל **לא להשתמש בהשוואה רגילה ל־np.nan**, אלא רק בפונקציות ייעודיות.

---

## ✅ בדוק את עצמך

1. מה ההבדל בין `mean()` ל־`nanmean()`?
2. כיצד אפשר להחליף את כל ה־NaN בערך הממוצע של המערך?
3. מדוע השוואה `a == np.nan` לא תעבוד כמצופה?

